package modelo2profesora.centralEnvios;

import modelo2profesora.Envio;

public class CentralEnvio {
	
	private static Envio[] envios = new Envio[0];

	//CONSTRUCTOR -- 
	
	public CentralEnvio(Envio[] envios) {
		super();
		this.envios = envios;
	}

	
	//GETTER AND SETTER -- 
	
	public Envio[] getEnvios() {
		return envios;
	}

	public void setEnvios(Envio[] envios) {
		this.envios = envios;
	}

	
	//MÉTODOS -- 
	
	public void registrarEnvio(Envio env) {
		
		Envio[] aux = new Envio[envios.length+1];
		
		for (int i = 0; i < envios.length; i++) {
			aux[i] = envios[i];
		} 
		
		aux[aux.length-1] = env;
		envios = aux;
	}
	
	public void eliminarEnvio(int codigo) {
		
		int pos = -1;
		Envio[] aux = new Envio[envios.length-1];
		boolean encontrado = false;
		for (int i = 0; i < envios.length || encontrado; i++) {
			
			if(envios[i].getCodPedido() == codigo) {
				pos = i;
				encontrado = true;
				
			}
			
		}
		if( pos != -1) {
			for (int i = pos; i < envios.length-1; i++) {
				envios[i] = envios[i+1];
			}
			
		}
		
		if(encontrado) {
			
			aux = envios; //Establecer el array más pequeño 
			envios = aux; // Envio se queda más pequeño. 
			System.out.println("Se ha eliminado correctamente...");
			
		}else
			System.out.println("No se ha encontrado el paquete");
		
	}
	
	public Envio findEnvioByCodigo(int codigo) {
		
		for(Envio e : envios) {
			if(e.getCodPedido() == codigo) {
				return e;
			}
		}
		
		return null;
	}
	
	
}
