package Main;

import java.util.Scanner;

import Empleados.Empleados;
import Empleados.Enfermero;
import Empleados.Per_Admin;
import Empleados.Medicos;
import Empleados.TipoTurnos;
import Hospital.Hospital;



public class MainHospital {
	public static void main(String[] args) {
	
		Scanner sc = new Scanner(System.in);
		
		// REGISTRAR HOSPITAL  --
        System.out.println("Ingresa nombre Hospital: ");
        String nombreHospital = sc.nextLine();
        Empleados[] trabajadores = new Empleados[0];
        
        Hospital hospital = new Hospital(nombreHospital,trabajadores);
        
        // MENU DE OPCIONES --

        int op;
        do{
            System.out.printf("""
                    *** GESTIÓN HOSPITAL %s ***
                    
                    1. Añadir Empleado.
                    2. Mostrar datos Empleado.
                    0. Salir.
                    
                    
                    """, nombreHospital);

            System.out.println();
            op = sc.nextInt();
            sc.nextLine();
            TipoTurnos turno = null;
            
            switch(op) {
            
            case 0->{
            	System.out.println("Saliendo del programa...");
            	System.exit(1);
            }
            
            case 1->{
            	System.out.print("Introduce nombre del empleado");
            	String nombreE = sc.nextLine();
            	
            	System.out.print("Introduce salario base: ");
            	double salB = sc.nextDouble();
            	sc.nextLine();
            	
            	System.out.print("Introduce NIF: ");
            	String NifE = sc.nextLine();
            	
            	System.out.println("""
            			*** Tipo de Empleado ***
            			
            			1. Enfermero
            			2. Médico
            			3. Personal Administrativo
            			
            			""");
            	int opT = sc.nextInt();
            	switch(opT) {
            	
            	case 1 ->{
            		System.out.println("Tipo de turno (mañana, tarde o noche) ");
            		
            		while(TipoTurnos.leerTeclado() == null) {
            			turno = TipoTurnos.leerTeclado();
            		}
            		
            		Empleados newEnfermero = new Enfermero(nombreE,NifE,salB,turno);
            		hospital.agregarEmpleado(newEnfermero);
            		System.out.println("Agregado empleado tipo Médico...");
            		
            	}
            	
            	case 2 ->{
            		System.out.print("Introduzca especialidad: ");
            		String especialidad = sc.nextLine();
            		
            		System.out.print("Ingrese el numero de guardias: ");
            		int numGuardias = sc.nextInt();
            		sc.nextLine();
            		Empleados newMedico = new Medicos(nombreE, NifE, salB, especialidad, numGuardias);
            		hospital.agregarEmpleado(newMedico);
            		System.out.println("Agregado empleado tipo Médico...");
            		
            	}
            	
            	case 3 ->{
            		System.out.print("Introduce horas extras: ");
            		int extra = sc.nextInt();
            		sc.nextLine();
            		Empleados newAdmin = new Per_Admin(nombreE, NifE, salB, extra);
            		hospital.agregarEmpleado(newAdmin);
            		
            		
            	}
            	default ->{
            		  System.err.println("Tipo de empleado no encontrado...");
            		  System.out.println("Introduce nuevamente los datos.");
            	}
            	} //switch
            	
            }//case 1
            
            case 2->{
            	System.out.println("Lista de Empleados: ");
            	hospital.mostrarEmpleados();
            }
            
            case 3->{
            	System.out.printf("Salario Total: %.2f%€",hospital.gastoTotal());
            	
            }
            
            }
            
        }while(op != 0);
	
	}		

}
